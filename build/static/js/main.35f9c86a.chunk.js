(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(22),c=a.n(s),l=a(6),o=a(7),i=a(9),m=a(8),u=a(10),p=a(17),d=function(){return r.a.createElement("nav",{className:"nav-wrapper red darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(p.c,{to:"/",className:"brand-logo hide-on-med-and-down"},"Time Tracker"),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(p.c,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Reports"},"Reports")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/About"},"About")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/Contact"},"Contact")))))},h=a(20),f=a(14),g=a(29),E=a.n(g),v=a(21),j=function(e){var t=e.projects,a=e.deleteProject,n=t.length?t.map(function(e){return r.a.createElement("div",{className:"collection-item",key:e.id},r.a.createElement(p.b,{className:"project-title",to:"/"+e.name},r.a.createElement("span",null,e.name)),r.a.createElement("div",{className:"rate"},r.a.createElement("span",null,e.rate)),r.a.createElement("div",{className:"actions"},r.a.createElement(v.Modal,{trigger:r.a.createElement("span",{className:"remove-icon"},r.a.createElement("img",{src:E.a,className:"delete-icon",alt:"Delete project"}))},r.a.createElement("p",null,"Are you sure that you want to remove this project? All tasks related to it will be removed."),r.a.createElement("span",{className:"btn red",onClick:function(){a(e)}},"DELETE"))))}):r.a.createElement("p",{className:"center"},"No projects yet.");return r.a.createElement("div",{className:"projects collection"},n)},S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",rate:"",error:""},a.handleChange=function(e){a.setState({name:e.target.value})},a.handleRateChange=function(e){a.setState({rate:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.projects.some(function(e){return a.state.name===e.name})?a.setState({error:"A project with the same name already exists"}):(a.props.addProject({name:a.state.name,rate:a.state.rate}),a.setState({name:"",rate:"",error:""}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Add new project:"),this.state.error?r.a.createElement("p",{className:"error"},this.state.error):null,r.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.name,placeholder:"The name of your project"}),r.a.createElement("input",{type:"number",onChange:this.handleRateChange,value:this.state.rate,placeholder:"Hourly rate (if any)",min:"0",max:"5000"}),r.a.createElement("button",{className:"btn"},"Add Project"))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={projects:[]},a.deleteProject=function(e){var t=e.id,n=e.name,r=a.state.projects.filter(function(e){return e.id!==t});a.setState({projects:r});var s=JSON.parse(localStorage.getItem("project")),c=Object(f.a)(s.filter(function(e){return e.id!==t}));localStorage.removeItem("project"),localStorage.setItem("project",JSON.stringify(c));var l=JSON.parse(localStorage.getItem("task")),o=Object(f.a)(l.filter(function(e){return e.parent!==n}));localStorage.removeItem("task"),localStorage.setItem("task",JSON.stringify(o))},a.addProject=function(e){e.id=Math.random();var t=[e].concat(Object(f.a)(a.state.projects));a.setState({projects:t});var n=[e].concat(Object(f.a)(a.state.projects));localStorage.setItem("project",JSON.stringify(n))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.hasOwnProperty("project")){var e=JSON.parse(localStorage.getItem("project"));this.setState({projects:e})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"container home"},r.a.createElement("h1",{className:"center"},"Projects"),r.a.createElement(v.Modal,{trigger:r.a.createElement(v.Button,null,"Add project")},r.a.createElement(S,{addProject:this.addProject,projects:this.state.projects})),r.a.createElement(j,{projects:this.state.projects,deleteProject:this.deleteProject}))}}]),t}(n.Component),b=function(){return r.a.createElement("div",{className:"container about"},r.a.createElement("h1",{className:"center"},"About"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet..."))},O=function(){return r.a.createElement("div",{className:"container contact"},r.a.createElement("h1",{className:"center"},"Contact"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet..."))},N=a(34),y=(a(109),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChangeStart=function(e){a.props.onStartChange({start:e}),a.setState({startDate:e})},a.handleChangeEnd=function(e){a.props.onEndChange({end:e}),a.setState({endDate:e})},a.state={startDate:new Date((new Date).setDate((new Date).getDate()-30)),endDate:new Date},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"date-range-picker"},r.a.createElement("span",{style:{marginRight:"10px"}},"From"),r.a.createElement(N.a,{maxDate:new Date,selected:this.state.startDate,startDate:this.state.startDate,endDate:this.state.endDate,onChange:this.handleChangeStart}),r.a.createElement("span",{style:{marginRight:"10px"}},"To"),r.a.createElement(N.a,{minDate:this.state.startDate,maxDate:new Date,selected:this.state.endDate,startDate:this.state.startDate,endDate:this.state.endDate,onChange:this.handleChangeEnd}))}}]),t}(n.Component)),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={projects:[],startDate:new Date((new Date).setDate((new Date).getDate()-30)).toString(),endDate:(new Date).toString()},a.getElapsedTime=function(e){var t=String(Math.floor(e/36e5)%24),a=String(Math.floor(e/1e3/60)+100).substring(1),n=String(Math.floor(e%6e4/1e3)+100).substring(1);return"".concat(t,":").concat(a,":").concat(n)},a.changeStartDate=function(e){a.setState({startDate:new Date(e.start)})},a.changeEndDate=function(e){a.setState({endDate:new Date(e.end)})},a.withoutTime=function(e){return new Date(e).setHours(0,0,0,0)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.hasOwnProperty("project")){var e=JSON.parse(localStorage.getItem("project")),t=JSON.parse(localStorage.getItem("task"));e.map(function(e){return e.tasks=[],t.forEach(function(t){e.name===t.parent&&e.tasks.push(t)})}),this.setState({projects:e})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.projects,n=t.startDate,s=t.endDate,c=a.length?a.map(function(t){var a=[];return t.tasks.forEach(function(r){t.name===r.parent&&e.withoutTime(r.created)>=e.withoutTime(n)&&e.withoutTime(r.created)<=e.withoutTime(s)&&a.push(r.elapsed)}),r.a.createElement("div",{className:"collection-item",key:t.id},r.a.createElement("div",{className:"project-title"},r.a.createElement("span",null,t.name)),r.a.createElement("div",{className:"hourly-rate"},r.a.createElement("span",null,t.rate)),r.a.createElement("div",{className:"total-time"},r.a.createElement("span",null,t.tasks.length&&a.length?e.getElapsedTime(a.reduce(function(e,t){return e+t})):"0:00:00")))}):r.a.createElement("p",{className:"center"},"No tasks found.");return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Reports"),r.a.createElement(y,{projects:this.state.projects,onStartChange:this.changeStartDate,onEndChange:this.changeEndDate}),r.a.createElement("div",{className:"collection-heading"},r.a.createElement("div",{className:"name"},r.a.createElement("span",null,"Name")),r.a.createElement("div",{className:"hourly-rate"},r.a.createElement("span",null,"Hourly rate")),r.a.createElement("div",{className:"total-time"},r.a.createElement("span",null,"Total time"))),r.a.createElement("div",{className:"collection"},c))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",title:"",parent:"",elapsed:0,created:"",error:""},a.handleChange=function(e){a.setState({title:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.tasks.some(function(e){return a.state.title===e.title})?a.setState({error:"A task with the same name already exists. Please change the name of your new task."}):(a.props.addTask({id:a.state.id,title:a.state.title,parent:a.state.title,elapsed:a.state.elapsed,created:a.state.created}),a.setState({id:"",title:"",parent:"",error:""}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},this.state.error?r.a.createElement("p",{className:"error"},this.state.error):null,r.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.title,placeholder:"What are you working on?"}))}}]),t}(n.Component),C=a(49),I=a.n(C),T=a(50),A=a.n(T),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isStart:!1,timer:null,elapsed:0,diff:0},a.tick=function(){var e=Date.now()-a.state.start+a.state.diff;a.setState({elapsed:e})},a.getElapsedTime=function(e){var t=String(Math.floor(e/36e5)%24),a=String(Math.floor(e/1e3/60)+100).substring(1),n=String(Math.floor(e%6e4/1e3)+100).substring(1);return"".concat(t,":").concat(a,":").concat(n)},a.onClick=function(){if(a.state.isStart)clearInterval(a.state.timer),a.props.onTimerUpdate({elapsed:a.state.elapsed,taskId:a.props.taskId}),a.setState({isStart:!1,timer:null,diff:a.state.elapsed});else{var e=setInterval(a.tick,1e3);a.setState({isStart:!0,timer:e,start:new Date})}},a.resetTimer=function(){clearInterval(a.state.timer),a.setState({isStart:!1,timer:null,elapsed:0,diff:0})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("task")).filter(function(t){return t.id===e.props.taskId});t&&this.setState({elapsed:t[0].elapsed,diff:t[0].elapsed})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer),this.props.onTimerUpdate({elapsed:this.state.elapsed,taskId:this.props.taskId}),this.setState({timer:null,diff:0,elapsed:0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"timer"},r.a.createElement("span",{className:"elapsed-time"},this.getElapsedTime(this.state.elapsed)),r.a.createElement("span",{className:"toggle-timer",onClick:this.onClick},this.state.isStart?r.a.createElement("img",{src:A.a,alt:"Pause timer"}):r.a.createElement("img",{src:I.a,alt:"Start timer"})))}}]),t}(n.Component),P=a(51),x=a.n(P),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={project_name:a.props.match.params.project_name,tasks:[]},a.deleteTask=function(e){var t=a.state.tasks.filter(function(t){return t.id!==e});a.setState({tasks:t});var n=JSON.parse(localStorage.getItem("task")),r=Object(f.a)(n.filter(function(t){return t.id!==e}));localStorage.removeItem("task"),localStorage.setItem("task",JSON.stringify(r))},a.addTask=function(e){e.parent=a.state.project_name,e.id=x()(),e.created=(new Date).toString();var t=[e].concat(Object(f.a)(a.state.tasks));a.setState({tasks:t});var n=[e].concat(Object(f.a)(a.state.tasks));localStorage.setItem("task",JSON.stringify(n))},a.getData=function(e){var t=a.state.tasks.filter(function(t){return t.id===e.taskId}),n=a.state.tasks.filter(function(t){return t.id!==e.taskId});if(t.length&&e.elapsed){t[0].elapsed=e.elapsed;var r=[t[0]].concat(Object(f.a)(n));localStorage.removeItem("task"),localStorage.setItem("task",JSON.stringify(r))}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.hasOwnProperty("task")){var e=JSON.parse(localStorage.getItem("task"));this.setState({tasks:e})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.tasks,n=t.project_name,s=Object(f.a)(a.filter(function(e){return e.parent===n})),c=s.length?s.map(function(t){return r.a.createElement("div",{className:"collection-item",key:t.id},r.a.createElement("div",{className:"task-title"},r.a.createElement("span",null,t.title)),r.a.createElement("div",{className:"info"},t.created.length?t.created.slice(4,15):""),r.a.createElement("div",{className:"actions"},r.a.createElement(J,{onTimerUpdate:e.getData,taskId:t.id,elapsed:t.elapsed}),r.a.createElement(v.Modal,{trigger:r.a.createElement("span",{className:"remove-icon"},r.a.createElement("img",{src:E.a,className:"delete-icon",alt:"Delete task"}))},r.a.createElement("p",null,"Are you sure that you want to remove this task?"),r.a.createElement("span",{className:"btn red",onClick:function(){e.deleteTask(t.id)}},"DELETE"))))}):r.a.createElement("p",{className:"center"},"Create your first task using the field above.");return r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,this.state.project_name),r.a.createElement(w,{addTask:this.addTask,tasks:this.state.tasks}),r.a.createElement("div",{className:"collection"},c))}}]),t}(n.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(d,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:k}),r.a.createElement(h.a,{path:"/About",component:b}),r.a.createElement(h.a,{path:"/Contact",component:O}),r.a.createElement(h.a,{path:"/Reports",component:D}),r.a.createElement(h.a,{path:"/:project_name",component:M})))}}]),t}(n.Component);c.a.render(r.a.createElement(R,null),document.getElementById("root"))},29:function(e,t,a){e.exports=a.p+"static/media/delete.93998245.svg"},49:function(e,t,a){e.exports=a.p+"static/media/start.6eac860a.svg"},50:function(e,t,a){e.exports=a.p+"static/media/stop.0805d998.svg"},52:function(e,t,a){e.exports=a(112)}},[[52,1,2]]]);
//# sourceMappingURL=main.35f9c86a.chunk.js.map